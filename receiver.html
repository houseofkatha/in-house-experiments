<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js"></script>
   <script src="https://unpkg.com/p5.js-svg@1.3.1"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js"></script>
    <!-- <script src="./path/to/p5.fillGradient.min.js"></script> -->
    <script src="https://unpkg.com/p5.fillgradient"></script>
    <!-- <script src="addons/p5.min.js"></script>
    <script src="addons/p5.rgb.js"></script>
    <script src="addons/p5.cmyk.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css"> -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <script src="strings.js" defer></script>
    <!-- <script src="script.js" defer></script> -->
    <meta charset="utf-8" />

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
    </style>

  </head>
  <body>
    <!-- <script src="sketch.js"></script> -->
     <!-- receiver.html -->
        <script>
        let importedLetterStates = [];
        console.log(importedLetterStates);

        window.addEventListener("message", (event) => {
            if (event.data.type === "letterData") {
                importedLetterStates = JSON.parse(event.data.payload);
                console.log("Received letter states:", importedLetterStates);
                dataReady = true;
                //redraw();
            }
            });
        </script>

        <script>
        let customFont;
        let img;
        let a;
        let e;

        let record;
        function setup() {
        createCanvas(windowWidth, windowHeight, SVG);
        
        // textSize(32);
        // textAlign(CENTER, CENTER);
        
        }

        function draw() {
        background(255);
        frameRate(2);
        
        let charac = importedLetterStates.width;
        drawStaticLetterData(importedLetterStates);
        
        
        // drawCustomText("hello longer text i am trying to see where the issue is", 10, 20, {
        //     letterWidth: 30,
        //     letterSpacing: 5,
        //     lineSpacing: 5,
        //     strokeWeightVal: 0.8,
        //     detailLevel: 0,
            
        //     color: [16, 82, 98],
        //     // color: [100, 100, 100],
        //     preset: "hover-reactive",
        //     radius: 800,
        //     interactiveStrokeWeight: 1.3,
        //     interactiveDetailLevel: 5,
        //     interactiveColor: [270, 3, 24]
        // });
        
        // if (record) { 
        //     record = false;
        //         save("mySVG.svg");
        //     }

        //noLoop();

        }



        // function keyPressed() {
        //     console.log(key);
        //     if (key === 'd' || key === 'D') {
        //         save("mySVG.svg");
        //         console.log('download ran');
        //     }
        // }

        function mousePressed() {
            save("mySVG.svg");
                console.log('download ran');
        }


        </script>
  </body>
</html>
